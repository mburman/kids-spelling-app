<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <title>Spelling Fun!</title>
</head>
<body>
    <!-- Mascot -->
    <div id="mascot" class="mascot">
        <div class="mascot-body">
            <div class="mascot-face">
                <div class="mascot-eyes">
                    <div class="mascot-eye left"></div>
                    <div class="mascot-eye right"></div>
                </div>
                <div class="mascot-beak"></div>
                <div class="mascot-cheeks">
                    <div class="mascot-cheek left"></div>
                    <div class="mascot-cheek right"></div>
                </div>
            </div>
            <div class="mascot-wings">
                <div class="mascot-wing left"></div>
                <div class="mascot-wing right"></div>
            </div>
        </div>
        <div id="mascot-speech" class="mascot-speech">Hi! Let's learn to spell!</div>
    </div>

    <!-- Confetti Container -->
    <div id="confetti-container" class="confetti-container"></div>

    <!-- Home Screen -->
    <div id="home-screen" class="screen active">
        <h1 class="bounce-in">Spelling Fun!</h1>
        <div class="word-preview wiggle-hover">
            <h3>This Week's Words:</h3>
            <div id="word-list-preview"></div>
        </div>
        <div class="button-grid">
            <button id="play-btn" class="game-button green wiggle">
                <span class="button-icon">üî§</span>
                <span class="button-label">Letter Game</span>
            </button>
            <button id="racing-btn" class="game-button purple wiggle">
                <span class="button-icon">üèéÔ∏è</span>
                <span class="button-label">Letter Racing</span>
            </button>
        </div>
        <button id="practice-btn" class="practice-button blue wiggle">
            <span class="button-icon">‚úèÔ∏è</span>
            <span class="button-label">Practice Writing</span>
        </button>
        <button id="settings-btn" class="settings-button">Settings</button>
    </div>

    <!-- Game Screen -->
    <div id="game-screen" class="screen">
        <div class="game-header">
            <button id="game-home-btn" class="back-button">Home</button>
            <div id="game-score" class="score">Stars: 0</div>
        </div>
        <div class="word-display-row">
            <div id="target-word" class="target-word"></div>
            <button id="hear-word-btn" class="hear-button hidden" title="Hear word again">üîä</button>
        </div>
        <div id="word-progress" class="word-progress"></div>
        <div id="letter-grid" class="letter-grid"></div>
        <div id="game-message" class="game-message"></div>
        <button id="next-word-btn" class="big-button green hidden">Next Word</button>
    </div>

    <!-- Racing Screen -->
    <div id="racing-screen" class="screen">
        <div class="game-header">
            <button id="racing-home-btn" class="back-button">Home</button>
            <div id="racing-score" class="score">Stars: 0</div>
        </div>
        <div class="word-display-row">
            <div id="racing-word" class="target-word"></div>
            <button id="hear-racing-btn" class="hear-button hidden" title="Hear word again">üîä</button>
        </div>
        <div id="racing-progress" class="word-progress"></div>
        <div id="racing-track" class="racing-track">
            <div class="lane" data-lane="0"></div>
            <div class="lane" data-lane="1"></div>
            <div class="lane" data-lane="2"></div>
            <div id="player-owl" class="player-owl" data-lane="1">
                <div class="racing-owl-body">
                    <div class="racing-owl-face">
                        <div class="racing-owl-eyes">
                            <div class="racing-owl-eye left"></div>
                            <div class="racing-owl-eye right"></div>
                        </div>
                        <div class="racing-owl-beak"></div>
                    </div>
                    <div class="racing-owl-wings">
                        <div class="racing-owl-wing left"></div>
                        <div class="racing-owl-wing right"></div>
                    </div>
                </div>
            </div>
        </div>
        <div id="racing-message" class="game-message"></div>
        <button id="next-racing-btn" class="big-button green hidden">Next Word</button>
    </div>

    <!-- Practice Screen -->
    <div id="practice-screen" class="screen">
        <div class="practice-header">
            <button id="practice-home-btn" class="back-button">Home</button>
        </div>
        <h2>Write this word:</h2>
        <div class="word-display-row">
            <div id="practice-word" class="practice-word"></div>
            <button id="hear-practice-btn" class="hear-button hidden" title="Hear word again">üîä</button>
        </div>
        <p class="instruction">Write it on paper, then take a photo!</p>
        <button id="camera-btn" class="big-button blue">I Wrote It! Take Photo</button>
        <div id="photo-preview" class="photo-preview hidden">
            <img id="captured-photo" src="" alt="Your writing">
            <p>Ask a parent to check your writing!</p>
            <div class="verify-buttons">
                <button id="approve-btn" class="big-button green">Correct!</button>
                <button id="retry-btn" class="big-button orange">Try Again</button>
            </div>
        </div>
        <button id="next-practice-btn" class="big-button green hidden">Next Word</button>
        <input type="file" id="camera-input" accept="image/*" capture="environment" class="hidden">
    </div>

    <!-- Parent Screen -->
    <div id="parent-screen" class="screen">
        <div class="parent-header">
            <button id="parent-home-btn" class="back-button">Home</button>
            <h2>Parent Settings</h2>
        </div>
        <div id="pin-entry" class="pin-entry">
            <p>Enter PIN to access settings:</p>
            <input type="password" id="pin-input" maxlength="4" pattern="[0-9]*" inputmode="numeric">
            <button id="pin-submit" class="big-button blue">Enter</button>
            <p id="pin-error" class="error hidden">Wrong PIN. Try again.</p>
        </div>
        <div id="word-management" class="word-management hidden">
            <h3>Spelling Words</h3>
            <div id="word-list" class="word-list"></div>
            <div class="add-word">
                <input type="text" id="new-word-input" placeholder="Add a new word...">
                <button id="add-word-btn" class="add-button">Add</button>
            </div>
            <button id="clear-all-btn" class="clear-button">Clear All Words</button>

            <div class="settings-section">
                <h3>Word Display</h3>
                <div class="radio-group">
                    <label><input type="radio" name="word-mode" value="both" checked> Show & Speak</label>
                    <label><input type="radio" name="word-mode" value="visual"> Show Only</label>
                    <label><input type="radio" name="word-mode" value="audio"> Speak Only</label>
                </div>
            </div>

            <div class="settings-section">
                <h3>Voice</h3>
                <div class="radio-group">
                    <label><input type="radio" name="voice" value="female-uk" checked> Female (British)</label>
                    <label><input type="radio" name="voice" value="male-uk"> Male (British)</label>
                </div>
                <button id="test-voice-btn" class="test-voice-button">Test Voice</button>
            </div>

            <div class="settings-section">
                <h3>Sound Effects</h3>
                <label class="toggle-switch">
                    <input type="checkbox" id="sounds-toggle" checked>
                    <span class="toggle-slider"></span>
                    <span class="toggle-label">Enable sound effects</span>
                </label>
                <button id="test-sound-btn" class="test-voice-button">Test Sound</button>
            </div>

            <div class="settings-section">
                <h3>Difficulty</h3>
                <div class="radio-group">
                    <label><input type="radio" name="difficulty" value="easy"> Easy</label>
                    <label><input type="radio" name="difficulty" value="medium" checked> Medium</label>
                    <label><input type="radio" name="difficulty" value="hard"> Hard</label>
                </div>
            </div>

            <div class="settings-section">
                <h3>Progress</h3>
                <p id="star-count" class="star-count">Stars collected: 0</p>
                <button id="reset-stars-btn" class="clear-button">Reset Stars</button>
            </div>
        </div>
    </div>

    <!-- Celebration Overlay -->
    <div id="celebration" class="celebration hidden">
        <div class="celebration-content">
            <h1 class="rainbow-text">Great Job!</h1>
            <div class="stars bounce-stars">‚òÖ ‚òÖ ‚òÖ</div>
            <button id="celebration-next-btn" class="celebration-next-btn">Next Word</button>
            <div class="sparkles">
                <div class="sparkle"></div>
                <div class="sparkle"></div>
                <div class="sparkle"></div>
                <div class="sparkle"></div>
                <div class="sparkle"></div>
            </div>
        </div>
    </div>

    <script type="module" src="/src/main.ts"></script>
</body>
</html>
